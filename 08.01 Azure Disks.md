Azure Disks, specifically **Azure Managed Disks**, are **persistent, secure, and highly-available block-level storage volumes** designed to be used with Azure Virtual Machines (VMs). They are the fundamental storage service for IaaS (Infrastructure as a Service) workloads on Azure.

Azure manages the storage accounts associated with these disks, simplifying disk management, scaling, and high availability for you.

---

## 1. Managed Disks vs. Unmanaged Disks

Azure **Managed Disks** are the recommended and default choice for all new deployments, as they offer significant advantages over the legacy **Unmanaged Disks**.

| Feature | Azure Managed Disks (Recommended) | Azure Unmanaged Disks (Legacy/Retiring) |
| :--- | :--- | :--- |
| **Management** | Azure handles the **Storage Account** management. You simply provision the disk. | You must manually create and manage the Storage Accounts for your disks. |
| **Scalability** | You can deploy **thousands of disks** per subscription per region. Azure automatically handles storage scale units. | You're limited by the scale limits (e.g., IOPS) of the single Storage Account you choose. |
| **Availability** | Better integration with **Availability Sets** and **Availability Zones**, ensuring disk isolation to prevent single points of failure. | Disks in an Availability Set must be manually managed to ensure they don't reside in the same storage scale unit. |
| **Simplicity** | Easy to use, simplified backup/snapshot management. | More complex, requiring manual orchestration and less automation. |

---

## 2. Types of Azure Managed Disks

Azure offers four primary types of Managed Disks, each optimized for different performance, cost, and capacity requirements:

### A. Ultra Disk Storage
* **Type:** High-end Solid-State Drive (SSD).
* **Scenario:** **Mission-critical** workloads like SAP HANA, high-end databases (SQL/Oracle), and other extremely IO-intensive applications.
* **Key Feature:** **Dynamic performance adjustment**. You can independently configure and change the IOPS and throughput without restarting the VM, offering flexible pay-for-performance.
* **Performance:** Highest available, with sub-millisecond latency and up to **400,000 IOPS**.

### B. Premium SSD v2
* **Type:** High-performance SSD, an evolution of Premium SSD.
* **Scenario:** Production and performance-sensitive workloads that require consistently **low latency and high IOPS**, but with more granular cost control than Ultra Disks.
* **Key Feature:** Offers the ability to **granularly adjust performance** (IOPS and throughput) independent of the disk size, similar to Ultra Disks.
* **Performance:** Excellent, up to **80,000 IOPS**.

### C. Premium SSD
* **Type:** Standard Solid-State Drive (SSD).
* **Scenario:** **Production and performance-sensitive** workloads, such as transactional databases (e.g., SQL, MySQL), medium to high-traffic web servers, and enterprise applications.
* **Key Feature:** Performance is **tied to disk size** (e.g., a P30 disk has a fixed IOPS/throughput). Supports both credit-based and on-demand bursting for temporary performance spikes.
* **Performance:** High, with single-digit millisecond latency and up to **20,000 IOPS**.

### D. Standard SSD
* **Type:** Standard Solid-State Drive (SSD).
* **Scenario:** **General-purpose** workloads, web servers, Dev/Test environments, and lightly-used enterprise applications that require **consistent performance** but are not latency-sensitive.
* **Performance:** Good balance of price and performance, with lower latency than HDDs.

### E. Standard HDD
* **Type:** Hard Disk Drive (HDD).
* **Scenario:** **Cost-effective** option for backups, non-critical, infrequent access, and archival data.
* **Performance:** Lowest performance, with latency being higher and performance varying over time.

---

## 3. Disk Roles

Every Azure VM uses at least two types of disks:

1.  **OS Disk:** Contains the operating system (Windows or Linux). A VM can only have one OS disk, and it must be a Managed Disk.
2.  **Data Disk(s):** Used for storing application data, databases, and other files. You can attach multiple data disks to a VM.
3.  **Temporary Disk:** A local SSD disk on the Azure host machine. It provides high-speed, temporary storage for page or swap files. **Data on this disk is lost** during a VM resize, deallocation, or host maintenance, so it should not be used for permanent data.

---

## 4. Key Capabilities

* **Snapshots:** You can take a point-in-time, read-only, crash-consistent copy of a Managed Disk. Snapshots are used for backups and creating new disks/VMs.
* **Disk Encryption:** Managed Disks support encryption by default (**Storage Service Encryption**) and can also be encrypted with **Azure Disk Encryption (ADE)** or **Customer-Managed Keys** for greater control.
* **Shared Disks:** Certain disk types (Ultra Disk and Premium SSD v2) can be concurrently attached to multiple VMs, enabling high-availability clustered applications like SQL Server Failover Cluster Instances (FCI) or SAP systems.
* **Host Caching:** You can enable Read-Only or Read/Write caching on the Premium/Standard SSDs to provide lower latency and higher performance by leveraging the VM's local SSD.
